<%= form_with model: post, local: true, class: "data-loading-show" do |f| %>
  <% if post.errors.any? %>
    <div id="error_explanation">
      <h2><%= post.errors.count %>件のエラーにより保存できませんでした:</h2>
      <ul>
        <% post.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  <div class="field">
    <label for="post_part_ids">トレーニング部位</label>
    
    <div class="parts-checkboxes">
      <% Part.all.each do |part| %>
        <label>
          <%= check_box_tag "post[part_ids][]", part.id, @post.part_ids.include?(part.id), id: "post_part_id_#{part.id}" %>
          <%= part.name %>
        </label>
        <br>
      <% end %>
      <%= hidden_field_tag "post[part_ids][]", "" %> 
    </div>
  </div>
  <div class="mb-3">
    <%= f.label :content, "意識しているポイント" %>
    <%= f.text_area :content, class: 'form-control', rows: 4 %>
  </div>
  <div class="mb-3">
    <%= f.label :video, "動画ファイル" %>
    <%= f.file_field :video, class: 'form-control' %>
  </div>

  <div class="actions">
    <%= f.submit class: 'btn btn-success' %>
  </div>
<% end %>