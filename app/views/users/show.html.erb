<div class="row user-profile-container my-4">
    
    <div class="col-md-4">
        <div class="card p-4 shadow-sm h-100 text-center">
            
            <h3 class="mb-3">プロフィール</h3>
              <% if @user.avatar.attached? %>
                <%= image_tag @user.avatar, 
                              class: 'rounded-circle mb-3', 
                              style: 'width: 100px; height: 100px; object-fit: cover;' %>
              <% else %>
                <i class="fas fa-user-circle fa-5x text-secondary mb-3"></i>
              <% end %>
            
              <h4 class="card-title mb-1"><%= @user.name %></h4>
              <p class="text-muted small mb-4"><%= @user.email %></p>
            
           
            <div class="d-flex justify-content-around mb-4">
                <p class="mb-0"><strong>0</strong> フォロー</p>
                <p class="mb-0"><strong>0</strong> フォロワー</p>
            </div>
            
            
            <% if @user == current_user %>
                <%= link_to 'プロフィール編集', edit_user_registration_path, class: 'btn btn-outline-primary mb-2' %>

                <%= link_to 'アカウント削除/退会手続き', edit_user_registration_path, class: 'btn btn-outline-danger' %>
            <% else %>
                <%= link_to 'フォローする', '#', class: 'btn btn-success' %>
            <% end %>
            
        </div>
    </div>
    
    <div class="col-md-8">
        <h3 class="mb-4">
            <%= @user.name %> さんの投稿 (<%= @posts.size %> 件)
        </h3>
        
        <%# 投稿一覧をグリッド形式で表示（_posts.html.erb パーシャルを再利用） %>
        <div class="row">
            <% if @posts.any? %>
                <%= render 'posts/posts', posts: @posts %>
            <% else %>
                <p class="alert alert-info">まだ投稿はありません。</p>
            <% end %>
        </div>
    </div>
</div>